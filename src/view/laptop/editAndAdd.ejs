<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <title>edit and add laptop</title>
  <script>
    function checker(e){
      let name = document.getElementsByName("name")[0].value;
      let price = document.getElementsByName("price")[0].value;
      let brand = document.getElementsByName("brand")[0].value;
      let dateManufacture = document.getElementsByName("dateManufacture")[0].value;
      
      if(name!="" && price!="" && brand!=""&& dateManufacture!=""){
        if(window.confirm("Are you sure")){
        document.getElementById("edit-add-form").submit();
        } else {
          e.preventDefault();
        }
      }
      
    }
    
  </script>
</head>
<body>
  <div class="container">
    <form action="<% if(idLaptop != -1){ %>
      update-laptop
      <%} else { %>
      create-laptop
      <% } %>"
      method="POST" id="edit-add-form">
      <% if (idLaptop != -1) { %>
        <p> Edit Laptop</p>
        <%} else { %>
          <p> Add Laptop</p>
        <% } %>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="inputEmail4">Name</label>
          <input type="text" class="form-control" name="name" placeholder="Laptop's name"
            value="<%= data.name %>" required>
        </div>
        <div class="form-group col-md-6">
          <label for="inputPassword4">Price</label>
          <input type="text" class="form-control" name="price" placeholder="Laptop's price"
            value="<%= data.price %>" required>
        </div>
        <div class="form-group col-md-6">
          <label for="inputPassword4">Brand</label>
          <input type="text" class="form-control" name="brand" placeholder="Laptop's brand"
            value="<%= data.brand %>" required>
        </div>
        <div class="form-group col-md-6">
          <label for="inputPassword4">Sold</label>
          <input id="sold" value="1" type="checkbox" name="sold" <%= data.sold==1 ? "checked" : "" %> />
        </div>
        <div class="form-group col-md-6">
          <label for="inputPassword4">Date of manufacture</label>
          <input type="date" class="form-control" name="dateManufacture" placeholder="date manufacture"
            value="<%= data.dateManufacture %>" required>
        </div>
      </div>
      <input type="text" name="id" value="<%= data.id %>" hidden />
      <div class="form-group mt-3">
        <!-- <% if (idLaptop != -1) { %>
          <button type="submit" class="btn btn-primary" onclick="checker(event)"> Update</button>
        <%} else { %>
            <button class="btn btn-primary" form="edit-add-form" onclick="checker(event)"> Create laptop</button>
        <% } %> -->

        <button class="btn btn-primary" form="edit-add-form" onclick="checker(event)">
          <% if(idLaptop!=-1){ %>
            Update Laptop
          <% } else{ %>  
            Create Laptop
         <% } %>
        </button>
      </div>
    </form>
  </div>

</body>
</html>